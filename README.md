# spamgen

How can we get the word out on healthy, effective herbal remedies without being detected by Big Pharma? SpamGen!

## Installation

Clone this repository then `lein test`. No actual tests, just runs a batch of whatever size I tested last. Should just end with run statistics and then:
````bash
Ran 1 tests containing 0 assertions.
0 failures, 0 errors.
````

## Usage

A standalone binary that can find its directories can be built thus:
````bash
cd <this repo top dir>
lein bin
cp bin/spamgen .
./spamgen -h
````
Now a multi-threaded processing of emails generated by `spec/gen` can be be kicked off with:
````bash
./spamgen -t1000
````
If you now examine the directory `bulkmail` you should see a bunch of files name like em1.2.3.4.txt. Each begins with a header object showing the run date and suggested SMPTP server's ID.

The idea is that in parallel we cannot enforce sequential anti-spam constraints, so the plan is to send each output file from a different SMTP server with the IPs shown. Note that concatenating would not work because constraints could be violated at the junctures.

## Options

Try: `./spamgen -h`

### Bugs

Running in parallel is a tad slower than a test verison (not included) that ran with a single worker.

## Future work
Write a similar program to pull in the output files and validate that all constraints have in fact been observed, as our testing during development confirmed.

## License

Copyright Â© 2018 Kenneth Tilton

Distributed under the Eclipse Public License either version 1.0 or (at
your option) any later version.
